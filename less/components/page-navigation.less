.page-navigation {
    position: sticky;
    top: 0;

    padding: 1.6rem;

    max-height: 100vh;
    overflow-x: hidden;
    overflow-y: auto;

    @media (max-width: @chapter-navigation-breakpoint) {
        top: 3.2rem;
        height: ~"calc(100vh - 3.2rem)";
    }
    @media (max-width: @page-navigation-breakpoint) {
        overflow: unset;
        padding: 0;
        width: 30rem;
        background-color: @colors[bg-grey-20];

        transition: all .4s;

        border-left: .2rem solid @colors[grey-40];
    }


    // SCROLL BAR
    &, & > ul {
        // Firefox
        scrollbar-width: auto;
        scrollbar-color: @colors[grey-60] @colors[grey-40];
    
        // Chrome, Edge, and Safari
        &::-webkit-scrollbar {
            width: 1.6rem;
        }
    
        &::-webkit-scrollbar-track {
            background: darken(@colors[grey-20], 5%);
        }
    
        &::-webkit-scrollbar-thumb {
            background-color: @colors[grey-40];
            border: .2rem solid lighten(@colors[grey-60], 5%);
            border-radius: .4rem;
    
            &:hover {
                background-color: darken(@colors[grey-40], 5%);
            }
        }
    }

    ul {
        padding-left: 1.8rem;
        list-style: none;

        position: relative;
    }

    > ul {
        padding-left: 0;

        @media (max-width: @page-navigation-breakpoint) {
            max-height: ~"calc(100vh - 3.2rem)";
            overflow-y: auto;
            padding: 1.6rem;
        }
    }

    &__item {
        &:link, &:visited {
            display: block;
    
            font-size: 2.4rem;
            font-weight: 600;
            line-height: 2.8rem;
    
            color: @colors[text-grey-80];
            background-color: @colors[grey-40];
            text-decoration: none;
            border-radius: .4rem;

            transition: all .1s;

            padding: .4rem .8rem;
            margin-bottom: .8rem;

            position: relative;
        }

        &:hover, &--highlighted:link, &--highlighted:visited {
            background-color: @colors[primary];
        }
    }

    &__horizontal-pipe {
        width: 1rem;
        height: .2rem;
        background-color: @colors[secondary];

        position: absolute;
        top: 50%;
        right: 100%;
        transform: translateY(-50%);

        border-bottom-left-radius: .4rem;
    }

    &__vertical-pipe {
        width: .2rem;
        background-color: @colors[secondary];

        position: absolute;
        top: -.8rem;
        left: .8rem;

        border-bottom-left-radius: .4rem;
    }
}

.page-navigation-toggle-button {
    display: none;

    position: absolute;
    top: 1.6rem;
    left: -(3.2rem + 3.2rem);

    width: 4.8rem;
    height: 4.8rem;
    background-color: @colors[primary];
    border-radius: .8rem;

    cursor: pointer;

    transition: all .1s;

    &:hover {
        background-color: darken(@colors[primary], 5%);
    }

    @media (max-width: @page-navigation-breakpoint) {
        display: block;
    }

    svg {
        width: 2.4rem;
        height: 2.4rem;
        fill: @colors[grey-80];

        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%) scaleX(-1);

        transition: all .2s .4s;
    }
}

.page-navigation-toggle-checkbox {
    display: none;

    @media (max-width: @page-navigation-breakpoint) {
        &:checked {
            + .page-navigation {
                transform: translateX(-100%);

                .page-navigation-toggle-button {
                    svg {
                        transform: translate(-50%, -50%) scaleX(1);
                    }
                }
            }
        }
    }
}